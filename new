local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

local found = false

for _, rift in ipairs(workspace.Rendered.Rifts:GetChildren()) do
    if rift.Name == "event-1" or rift.Name == "event-2" then
        local luck = rift:FindFirstChild("Display") and rift.Display:FindFirstChild("SurfaceGui") and rift.Display.SurfaceGui:FindFirstChild("Icon") and rift.Display.SurfaceGui.Icon:FindFirstChild("Luck")
        if luck and luck:IsA("TextLabel") then
            print(rift.Name .. " : " .. luck.Text)
            found = true

            -- Ensure PrimaryPart is set
            if not rift.PrimaryPart then
                local firstPart = rift:FindFirstChildWhichIsA("BasePart")
                if firstPart then
                    rift.PrimaryPart = firstPart
                end
            end

            local targetPart = rift.PrimaryPart
            if targetPart then
                local goal = {
                    CFrame = targetPart.CFrame * CFrame.new(0, 5, -5)
                }

                local tweenInfo = TweenInfo.new(
                    15, -- seconds
                    Enum.EasingStyle.Quad,
                    Enum.EasingDirection.Out
                )

                local tween = TweenService:Create(hrp, tweenInfo, goal)
                tween:Play()

                tween.Completed:Wait() -- wait until tween is finished!

                -- After arrival, fire the right RemoteEvent
                local eventRemote = ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Framework"):WaitForChild("Network"):WaitForChild("Remote"):WaitForChild("Event")
                if rift.Name == "event-1" then
                    local args = {
                        [1] = "HatchEgg",
                        [2] = "Bunny Egg",
                        [3] = 4
                    }
                    eventRemote:FireServer(unpack(args))
                elseif rift.Name == "event-2" then
                    local args = {
                        [1] = "HatchEgg",
                        [2] = "Pastel Egg",
                        [3] = 4
                    }
                    eventRemote:FireServer(unpack(args))
                end

            else
                warn("No valid part found in rift to tween to!")
            end

            break -- stop after first found
        end
    end
end

if not found then
    print("there are no event rifts")
end
